language: java

sudo: false

jdk: oraclejdk8

script: mvn clean verify

cache:
  directories:
  - "$HOME/.m2"

before_install:
- if [ ! -z "$GPG_SECRET_KEYS" ]; then echo $GPG_SECRET_KEYS | base64 --decode | $GPG_EXECUTABLE --import; fi
- if [ ! -z "$GPG_OWNERTRUST" ]; then echo $GPG_OWNERTRUST | base64 --decode | $GPG_EXECUTABLE --import-ownertrust; fi

after_success:
- bash <(curl -s https://codecov.io/bash)
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $GPG_DIR/pubring.gpg.enc -out $GPG_DIR/pubring.gpg -d
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $GPG_DIR/secring.gpg.enc -out $GPG_DIR/secring.gpg -d
- "$GPG_DIR/deploy.sh"

env:
  global:
  - GPG_DIR="`pwd`/deploy"
  - secure: Fw6QVI65LH+2AgAaOPVwc//JNURh7aJGOGHFB8Toojx6n2+zLuLf6Qmt7paJB9NF+AwnNrCNxsseh0+aPN30oITKgXxdbIzrRAjALbFleK7rAz1qVsg3Glew/4vAXXQR+vM6jHO2CENlQlRR370K+PWEZ364eM6ZquKwWeJ7nXzq0L9U7DrATwQc54LO1PvGRSSlp4Wp5FjFcJbXCFMsUOTRYW1laNjHL8pgHcM1CQlPqmRxXvi2CPFqPIeWGF+na74gMeVIxoNhobKSWlJ9x5thQqLZnOYwxYt+y+bmPDOATe0qwF5wFGFOH4Cr2qhJFPB44nZMWxdVgEKnb9t7E23PPDcI7EivrTWE0daxwSa5eD4nGPy5ESgVAGwhyhSQWgHoaK8Hkn0wvWRu20rAwXZFeKQI+wpe82jVFumdCUDSoordwEQZqNVGIBnEx2O9vUalJ76iUWTstjY6qKXK8cm4DaG0ItG6MccREdN4Ulb40IIQS8ESP1qa0fThJq2AZRPTZ3VJJt3ZGv22YJHF0tRfjD8Uay5aOkCOIrFHZ1VCjjXeUlagQ9ipfuIXpOpPd+hQzg+eAQZI1DZgi/f+FtIxGqZZbcySnKftQX+74dZ+zPtvAvFjg2BLbo8vr0iE3lpLTgdrD6g/10hIPBUUVizVTkTKsImM11QF8OgKrBk=
  - secure: 0DZ9HvUQhYXXEWUkcgZGu6XLpvbOWlxX2GeatCLKn7ysAOwmAPKZm33d0RJ2nKtn/GQWCED2urAAYXcgZPxiaU7uc4ncTZi7pKfMxbPRNyieHuUmL8njsf/zShndSFOCn9ZupHnCkrg5MIZcHN+bjXgbxa1nTeQS2rRSa4NpOipgOr7ZxosP8TKYjWhe0LIkNug6PudTWPLOxwax2c08jL6Eylv8W1/4Vq/Q/N3Y6+w77KIuufLLcQhovrIZGl4oxZwqSn/71Q1h1Q0rMoZI5aGfYXRogexyeQtAGBgJeoucxAV76z/GTvU4q6wWIsF5Soa3ClH/aGuPD37nLrFXCHomi369o2jrBQ6GYrqQye3fvxAL71pft2WStt+MuXX/t6Z6jCEeotZzT+akg60+Zt7qTFj6aiNi+kOSULSbKT1OUIvUmkyFbp+ustHFDJDwS/G0bA98OAR9hM7XqPyjT6upjXd5LSze+TXN4IoyouEI3KhDjDUWYQDTPK+uTJyYhbEtcsTBoJ68bHDgL9BLB9PKduyJvAHpv1taH+qbFbCJLwtfFNeDpGc6G5X+MnBvtTMUTl9O367ulikK+0lledo/3teWm0+EkNQpapRXXmbOpbjtj+5idy+xxdID39/t6k+14BsBuuh5/PY+4jLTdrtwWnZAFZ3tLbyrr8+54So=
  - secure: h1SVw0WQ6gT4tIH/AaVmjF1/03mNFLe0binlQ0+7CwqVnKttQ8SbvIhRO8Nt5dYftn8ENw70nORFDgyhMW2585h5dcx3M4j9c9kfD3ryoFZoEJtJ9MR3GQZ7Jhr7TvzXY6b8Enf1Dv/tNPt8bd5y5DkdgMuNKEPAxNhCkSyCa8+TLIxwrOMYrYToWXA4hVzVE9r8GgZgm7kypDIB4atKkP9Hkf0EEjEYKyghHXf4UDlZIIcqEcQkPfXoG/Rk+R5Ao8oDCws+FjJH6ry9n2AXlByL8G7HZJ3lxQ1nlBvgVlTYq4X5UCYAbGMLL2moSidmsqb4xwT8ZOilYO4ysFM6ZBRcTdiVSSCmssb4peaMptie9+Pcsv/QluxIDncF1aO9IvOSclMfUifhG4pBzo/jrY7QWDqL1dVjesJDtT+qBxENl+ycLYaESy+b1RN7OM3WSTU6v2VscjzNWikHB86bLCnEDiMlSVdonqgsv/TnFlOWK6R/FM8IKHzeQi2xweQ+dTBu9fel0erapyqxRUuzR6+FpeBV9tG57OiAHYETNL+p5A+2Ab8FxAfwpFvBnzbk5eJrr3+qeaPzA5s1RI+QeNaK7yjyFykSxtsgWm6SVqXgd3PV0XiO7ypFpSWXgTRoOcCe28pHzC79cihqIwnpQioGrBTQrqlV/+SWPc0WWjw=
  - secure: lK4vXnh4jGEBrTVu72KNDSu3ZSrtodJlj5+LDkEKKNogJotUjvwGUe1Wcj85SeUqKmTnyc/wHV22SmNWc0FCXEfWGRfQnWX+kPj+wxYdHQWSOkiRPH7QHMWZkjV7u57j8xszBViKqYULRIAz/VnCi6blUipzZZgd9HeGXZa8HpmHuTRbWlMxkjZauD28O4IgcZg+1yfiWq6UoPweinLVH0Y3GME02am1emNTDTaR9tPtsJhD/x6mADeSYuNjbJT9vOGcrpXq1Uwbwyvezo44kNbf5rWriY1tWgTfcuUmia+gM7n2tFg0R2C9LleZiVw8tQm8WKxLQHPE2JTAFUbfyzzsuRSVS9DzpZXWZ+P2Det/xj28alJoqgaQ01tIfGcq9HaYax9HKVO5IGVdWrPEajptI3fJvVCyS+clpOM8GI2Loov+/AFyBDAkNLuE41QDxjWmuDWDHzfcQinZIXicHyf2ZfBfa2O483J5cZNtIxhrWdASQi9huLGZXGgEF88M6uQxDnPtG5XfxLNbn6rzAAKBbAGpMRIpjfkJCK6swr6iJoHeXefTcWBHfFyQ2C3vNAHnQ29BIda2GPhWqNcT8mbng3LnvzrpWD4uzzTQW/fQW20UcmuOKz7c3f7LYqE8r+nQWjTMzTwho5bjgFk0dK+enfdZl/0CNOvWUiKXBQU=
  - secure: xjdteYR5vmM8016cbA9Fyol6yHP4WlQBNmF74Vrn2LvGDTLO0fukCGy2gmCTSAVwkERNqzfp5LFgvp7BtLiSZAjrr85ANRD1xzvBxOTq3O/7u0xf/pe/d2HnTPnaKLYGid52l1d64g1CM9l7ZbX+NDTfz5mWX8PjtC6KvTXE9HMPVcvBZh0tF48iyeE5U/DYm7G1bv9RzKnKh8MnT942ZTLX+XKIYh7RxZkQd8f13AhwjfGezPHl9wW5tz0HzHjGVr5kL3XmjP5uoyr0v7CB+MGJ9tLrW55oSaVJZM473solrP93jerLEJ7mtpj76PRFPM0d93TVpbbtgm9ZXjAWLigiLirYGShgYLiNehScFzpq4/brIcNEcRklktuWjz0nSRhRde00Naw8dQWD0hrlS1i5m8rCnrYBGF70nz7D0YjvD30HoO+WH4aNVXXsRW1a8EnPAxUZ1q8jPjNvlN9TAq8FzMX0NEKGF+MJ5VFNuJ00HPcx4AUMTvERieT9VP/xnEvdP/YIQypevQ9HG5CrVcy0XwxTnOF029H96mbsspVsjQuxmOfZtXRYTffhwFeZrtklN6ubJEsFBp6R5PgDel40HYdm9uD2qwK9TwnxBbPl7narQ40yTctco3GXzrLPl4XN/7NCFEpm2afFa37n25ArXLrVLKcgoew4HBY4n5g=
